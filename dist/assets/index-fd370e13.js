var u=(t,o,n)=>{if(o.has(t))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(t):o.set(t,n)};(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const p={user:null},m={url:"/src/data/UserData.json",fetchUser:async()=>{try{return await(await fetch(m.url)).json()}catch(t){console.error(t)}}},h=async()=>{_timesUpApp.store.user=await m.fetchUser()},a=()=>{for(;_timesUpApp.store.container.children[0];)_timesUpApp.store.container.removeChild(_timesUpApp.store.container.children[0])},i={init:()=>{window.addEventListener("popstate",t=>{console.log(t),i.go(t.state.path,!1)}),_timesUpApp.store.container.addEventListener("click",t=>{}),i.go(location.pathname)},go:(t,o=!0)=>{console.log(`router go method going to ${t}`),o&&(history.pushState({path:t},"",t),console.log(t));let n=null,s,e;switch(t.lastIndexOf("/")>0?(e=t.substring(t.lastIndexOf("/")+1),s=t.substring(0,t.lastIndexOf("/"))):s=t,s){case"/":a(),n=document.createElement("start-page");break;case"/menu":n=document.createElement("menu-modal");break;case"/interval":a(),n=document.createElement("interval-page"),e&&(n.dataset.sequence=e);break;case"/help":a(),n=document.createElement("help-page");break;default:a(),n=document.createElement("error-page")}_timesUpApp.store.container.appendChild(n)}};var l;class f extends HTMLElement{constructor(){super();u(this,l,"k rico");this.root=this.attachShadow({mode:"open"})}async loadCSS(){const s=await(await fetch("/src/components/Interval.css")).text(),e=document.createElement("style");this.root.appendChild(e),e.textContent=s}counter(n,s,e=0){let r=n[e].total;setInterval(()=>{r<-1e4?s.innerHTML="you're done, agburre":(r--,s.innerHTML=r.toString())},1e3)}renderInterval(n){const s=document.createElement("h1"),e=document.createElement("h5"),r=document.createElement("div"),c=_timesUpApp.store.user.timerList.filter(d=>d.name===n)[0].list;return console.log(c),this.counter(c,s),e.innerHTML=c[0].name,r.addEventListener("click",d=>{console.log("clicked")}),s.style.margin="1rem",e.style.margin="0",r.classList.add("start-screen"),r.appendChild(e),r.appendChild(s),r}connectedCallback(){try{if(!this.dataset.sequence)throw new Error("this sequence can't be accessed");this.loadCSS(),this.root.appendChild(this.renderInterval(this.dataset.sequence)),console.log(this.root)}catch(n){console.error(n)}}}l=new WeakMap;customElements.define("interval-page",f);class g extends HTMLElement{constructor(){super()}}customElements.define("help-modal",g);class E extends HTMLElement{constructor(){super()}renderMenu(){document.createElement("h1"),document.createElement("h5");const o=document.createElement("div"),n=document.createElement("ul");for(let s=0;s<_timesUpApp.store.user.timerList.length;s++){const e=document.createElement("li");e.innerHTML=_timesUpApp.store.user.timerList[s].name,e.addEventListener("click",r=>{console.log(r.target.innerHTML),_timesUpApp.router.go(`/interval/${r.target.innerHTML}`)}),n.appendChild(e)}return o.appendChild(n),o.classList.add("flex-down","menu"),o}connectedCallback(){this.appendChild(this.renderMenu())}}customElements.define("menu-modal",E);class L extends HTMLElement{constructor(){super()}startScreen(o){const n=document.createElement("h1"),s=document.createElement("div"),e=document.createElement("h5");return n.innerHTML=`hi, ${o}`,n.style.margin="1rem",e.innerHTML="select your interval sequence",e.style.margin=0,e.addEventListener("click",r=>{_timesUpApp.router.go("/menu")}),s.appendChild(n),s.appendChild(e),s.classList.add("flex-down","start-screen"),s}connectedCallback(){this.appendChild(this.startScreen(_timesUpApp.store.user.name))}}customElements.define("start-page",L);window._timesUpApp={};_timesUpApp.store=p;_timesUpApp.router=i;_timesUpApp.store.container=document.getElementById("container");document.addEventListener("DOMContentLoaded",async t=>{await h(),_timesUpApp.router.init()});
